<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Royal Dining | Bulk Admin</title>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        :root { --gold: #D4AF37; --dark: #050505; }
        body { font-family: 'Poppins', sans-serif; background: var(--dark); color: #fff; margin: 0; padding-bottom: 90px; }
        header { padding: 20px; text-align: center; background: #000; border-bottom: 2px solid var(--gold); }
        .admin-box { background: #111; padding: 15px; border-radius: 12px; border: 1px dashed #444; margin: 15px; }
        .admin-input, textarea { width: 100%; padding: 12px; margin-bottom: 10px; border-radius: 8px; border: none; background: #000; color: #fff; box-sizing: border-box; }
        .btn-gold { background: var(--gold); color: #000; padding: 12px; border-radius: 50px; font-weight: bold; border: none; cursor: pointer; width: 100%; }
        #menu-page { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #000; z-index: 2000; overflow-y: auto; padding: 20px; box-sizing: border-box; }
        .item-row { display: flex; justify-content: space-between; padding: 10px 0; border-bottom: 1px solid #222; }
    </style>
</head>
<body>

    <header><h1 style="font-family:Cinzel; color:var(--gold); margin:0;">THE ROYAL DINING</h1></header>

    <div class="admin-box">
        <h3 style="color:var(--gold); margin-top:0;">1. PHOTO UPLOAD (7679)</h3>
        <input type="password" id="p1" class="admin-input" placeholder="Password">
        <input type="file" id="f1" class="admin-input" accept="image/*" multiple>
        <button class="btn-gold" onclick="upPhoto()">UPLOAD SELECTED PHOTOS</button>
    </div>

    <button class="btn-gold" style="width:90%; margin:10px auto; display:block;" onclick="openMenu()">OPEN DIGITAL MENU</button>

    <div id="menu-page">
        <span onclick="closeMenu()" style="position:fixed; right:20px; top:10px; font-size:35px; color:var(--gold); cursor:pointer;">&times;</span>
        <div id="menu-content" style="margin-top:40px;"></div>

        <div class="admin-box">
            <h3 style="color:var(--gold);">2. BULK ADD MENU (Sath mein add karein)</h3>
            <input type="password" id="p2" class="admin-input" placeholder="Password (7679)">
            <input type="text" id="cat" class="admin-input" placeholder="Category (e.g. BIRYANI)">
            <textarea id="bulkData" rows="6" placeholder="Dish Name, Price (Ek line mein ek item)&#10;Example:&#10;Chicken Biryani, 250&#10;Mutton Biryani, 350"></textarea>
            <button class="btn-gold" onclick="bulkAdd()">ADD ALL ITEMS AT ONCE</button>
            <button class="btn-gold" style="background:#ff4444; margin-top:10px;" onclick="clearMenu()">CLEAR ALL MENU</button>
        </div>
    </div>

    <script>
        const PASS = "7679";
        window.onload = () => { loadG(); loadM(); };
        function openMenu() { document.getElementById("menu-page").style.display = "block"; }
        function closeMenu() { document.getElementById("menu-page").style.display = "none"; }

        // Multi-Photo Upload
        function upPhoto() {
            if(document.getElementById("p1").value !== PASS) return alert("Wrong Password!");
            const files = document.getElementById("f1").files;
            if(files.length === 0) return alert("Select photos");
            
            let photos = JSON.parse(localStorage.getItem("vP") || "[]");
            Array.from(files).forEach(file => {
                const reader = new FileReader();
                reader.onload = (e) => {
                    photos.push(e.target.result);
                    localStorage.setItem("vP", JSON.stringify(photos));
                    loadG();
                };
                reader.readAsDataURL(file);
            });
            alert("Photos are being uploaded...");
        }

        // Bulk Menu Add
        function bulkAdd() {
            if(document.getElementById("p2").value !== PASS) return alert("Wrong Password!");
            let c = document.getElementById("cat").value.toUpperCase();
            let text = document.getElementById("bulkData").value;
            if(!c || !text) return alert("Category aur Items bhariye");

            let data = JSON.parse(localStorage.getItem("vM") || "{}");
            if(!data[c]) data[c] = [];

            let lines = text.split('\n');
            lines.forEach(line => {
                let parts = line.split(',');
                if(parts.length >= 2) {
                    data[c].push({n: parts[0].trim(), pr: parts[1].trim()});
                }
            });

            localStorage.setItem("vM", JSON.stringify(data));
            loadM();
            alert("Sari dishes add ho gayi hain!");
            document.getElementById("bulkData").value = "";
        }

        function clearMenu() {
            if(confirm("Pura menu mita dein?") && prompt("Password?") === PASS) {
                localStorage.removeItem("vM");
                loadM();
            }
        }

        function loadM() {
            let data = JSON.parse(localStorage.getItem("vM") || "{}");
            let h = "";
            for(let c in data) {
                h += `<div style="color:var(--gold); border-bottom:1px solid #333; margin-top:20px; font-weight:bold;">${c}</div>`;
                data[c].forEach(i => {
                    h += `<div class="item-row"><div><b>${i.n}</b><br><small>${i.pr}</small></div></div>`;
                });
            }
            document.getElementById("menu-content").innerHTML = h;
        }
        
        function loadG() { /* Gallery loading logic same as before */ }
    </script>
</body>
</html>
